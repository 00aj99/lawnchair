<!DOCTYPE html>
<html>
    <head><title>Lawnchair: Simple JSON Storage</title><head>
    <link href="/assets/css/app.css" type="text/css" rel="stylesheet" /> 
    <link href="/assets/css/grid.css" type="text/css" rel="stylesheet" /> 
    <link href="/assets/css/prettify.min.css" type="text/css" rel="stylesheet" /> 
<body>
    <div class="container_12">
        <div class="grid_3">
            <h1><a href="/">Lawnchair</a></h1>
            <p>Simple JSON Storage</p>
            <img src="/assets/img/tiny-lawnchair.gif" alt="Lawnchair: Simple JSON Storage" />
        </div>
        <div class="grid_3">
            <h2>code</h2>
            <ul class="nav">
				<li><a href="/">home</a></li>
				<li><a href="/downloads">downloads</a></li>
				<li><a href="/adapters">adapters</a></li>
				<li><a href="/tests">tests</a></li>
				<li><a href="/license">license</a></li>
            </ul>
            
            <h2>documentation</h2>
            <ul class="nav">
				<li><a href="/quickstart">quickstart</a></li>
				<li><a href="/initialization">init</a></li>
				<li><a href="/saving">saving</a></li>
				<li><a href="/finding">finding</a></li>
				<li><a href="/removing">removing</a></li>
				<li><a href="/iteration">iteration</a></li>
				<li><a href="/plugins">plugins</a></li>
				<li><a href="/sugar">sugar</a></li>
            </ul> 
            
            <h2>community</h2>
            <ul class="nav">
                <li><a href="http://github.com/brianleroux/lawnchair">source on github</a></li>
            </ul> 
        </div>
        <div class="grid_6">
<h1>Adapters</h1>

<p>Adapters expose a consistent interface to a persistent storage implementation. A Lawnchair build enqueues adapters and mixes in the first one valid for the current environment. This pattern is common in mobile scenarios, for example, a Lawnchair build with the DOM and Gears adapters will gracefully degrade through all available Android persistence solutions.</p>

<pre><code>blackberry-persistent-store ... great for phonegap
dom ........................... default adapter
gears-sqlite .................. for androids &lt; 2.x
ie-userdata ................... for msft js engines
memory ........................ in memory reference implemenation
webkit-sqlite ................. great for webkits
window-name ................... default fallback; oldest hack in the book
indexed-db .................... omg paul irish wrote this!
</code></pre>

<p>If you require an adapter thats not listed here it is trivial to implement your own. Adapters have the following interface:</p>

<pre><code>// adapter name as a string
adapter 

// boolean; true if the adapter is valid for the current environment
valid 

// ctor call and callback. 'name' is the most common option (to name the collection)
init ([options], callback)

// returns all the keys in the store
keys (callback)     

// save an object
save (obj, callback) 

// batch save array of objs
batch(array, callback)

// retrieve obj (or array of objs) and apply callback to each
get (key|array, callback) 

// check if an obj exists in the collection
exists (key, callback)

// returns all the objs to the callback as an array
all (callback)

// remove a doc or collection of em
remove (key|array, callback)

// destroy everything
nuke (callback)
</code></pre>

<p>The tests ensure adapters are consistent no matter what the underlying store is. If you are writing an adapter check out <code>./tests/lawnchair-spec.js</code>. The memory adaptor is probably the simplest implementation to learn from. Note, all Lawnchair methods accept a callback as a last parameter. This is deliberate, most modern clientside storages only have async style interfaces, for a good reason, your code won't block the main thread aiding in the perception of performance. That callback will be scoped to the lawnchair instance. Make use of <code>fn</code> and <code>lambda</code> methods to allow for terse callbacks. </p>
	</div>
	<div class="clear">lawnchair image attributed to drawbuck</div>
</div>
<script type="text/javascript" src="/app.js"></script>
</body>
</html>
		